--- # LNP API definition file; autogenerated from c-lightning CSV API file

types:
  - &shachain { snake: shachain, pascal: Shachain, camel: shachain }
  - &chainparams { snake: chainparams, pascal: Chainparams, camel: chainparams }
  - &amount_sat { snake: amount_sat, pascal: AmountSat, camel: amountSat }
  - &amount_msat { snake: amount_msat, pascal: AmountMsat, camel: amountMsat }
  - &pubkey { snake: pubkey, pascal: Pubkey, camel: pubkey }
  - &u32 { snake: u32, pascal: U32, camel: u32 }
  - &bitcoin_txid { snake: bitcoin_txid, pascal: BitcoinTxid, camel: bitcoinTxid }
  - &u16 { snake: u16, pascal: U16, camel: u16 }
  - &u8 { snake: u8, pascal: U8, camel: u8 }
  - &basepoints { snake: basepoints, pascal: Basepoints, camel: basepoints }
  - &bitcoin_tx { snake: bitcoin_tx, pascal: BitcoinTx, camel: bitcoinTx }
  - &secp256k1_ecdsa_signature { snake: secp256k1_ecdsa_signature, pascal: Secp256k1EcdsaSignature, camel: secp256k1EcdsaSignature }
  - &u64 { snake: u64, pascal: U64, camel: u64 }
  - &bool { snake: bool, pascal: Bool, camel: bool }
  - &htlc_stub { snake: htlc_stub, pascal: HtlcStub, camel: htlcStub }
  - &preimage { snake: preimage, pascal: Preimage, camel: preimage }
  - &chain_coin_mvt { snake: chain_coin_mvt, pascal: ChainCoinMvt, camel: chainCoinMvt }

messages:
  5001: &onchain_init
    - { name: shachain, type: *shachain }
    - { name: chainparams, type: *chainparams }
    - { name: funding_amount_satoshi, type: *amount_sat }
    - { name: our_msat, type: *amount_msat }
    - { name: old_remote_per_commitment_point, type: *pubkey }
    - { name: remote_per_commitment_point, type: *pubkey }
    - { name: local_to_self_delay, type: *u32 }
    - { name: remote_to_self_delay, type: *u32 }
    - { name: delayed_to_us_feerate, type: *u32 }
    - { name: htlc_feerate, type: *u32 }
    - { name: penalty_feerate, type: *u32 }
    - { name: local_dust_limit_satoshi, type: *amount_sat }
    - { name: our_broadcast_txid, type: *bitcoin_txid }
    - { name: local_scriptpubkey_len, type: *u16 }
    - { name: local_scriptpubkey, type: *u8, len_var: local_scriptpubkey_len }
    - { name: remote_scriptpubkey_len, type: *u16 }
    - { name: remote_scriptpubkey, type: *u8, len_var: remote_scriptpubkey_len }
    - { name: ourwallet_pubkey, type: *pubkey }
    - { name: opener, type: *u8, enum: side }
    - { name: local_basepoints, type: *basepoints }
    - { name: remote_basepoints, type: *basepoints }
    - { name: tx, type: *bitcoin_tx }
    - { name: tx_blockheight, type: *u32 }
    - { name: reasonable_depth, type: *u32 }
    - { name: num_htlc_sigs, type: *u16 }
    - { name: htlc_signature, type: *secp256k1_ecdsa_signature, len_var: num_htlc_sigs }
    - { name: num_htlcs, type: *u64 }
    - { name: min_possible_feerate, type: *u32 }
    - { name: max_possible_feerate, type: *u32 }
    - { name: possible_remote_per_commit_point, type: *pubkey, optional: true }
    - { name: option_static_remotekey, type: *bool }
    - { name: is_replay, type: *bool }
  5002: &onchain_htlc
    - { name: htlc, type: *htlc_stub }
    - { name: tell_if_missing, type: *bool }
    - { name: tell_immediately, type: *bool }
  5101: &onchain_init_reply
  5003: &onchain_broadcast_tx
    - { name: tx, type: *bitcoin_tx }
    - { name: type, type: *u8, enum: wallet_tx_type }
  5004: &onchain_spent
    - { name: tx, type: *bitcoin_tx }
    - { name: input_num, type: *u32 }
    - { name: blockheight, type: *u32 }
    - { name: is_replay, type: *bool }
  5005: &onchain_depth
    - { name: txid, type: *bitcoin_txid }
    - { name: depth, type: *u32 }
    - { name: is_replay, type: *bool }
  5006: &onchain_unwatch_tx
    - { name: txid, type: *bitcoin_txid }
  5007: &onchain_known_preimage
    - { name: preimage, type: *preimage }
    - { name: is_replay, type: *bool }
  5008: &onchain_extracted_preimage
    - { name: preimage, type: *preimage }
  5009: &onchain_missing_htlc_output
    - { name: htlc, type: *htlc_stub }
  5010: &onchain_htlc_timeout
    - { name: htlc, type: *htlc_stub }
  5011: &onchain_all_irrevocably_resolved
  5012: &onchain_add_utxo
    - { name: prev_out_tx, type: *bitcoin_txid }
    - { name: prev_out_index, type: *u32 }
    - { name: per_commit_point, type: *pubkey, optional: true }
    - { name: value, type: *amount_sat }
    - { name: blockheight, type: *u32 }
    - { name: len, type: *u16 }
    - { name: scriptpubkey, type: *u8, len_var: len }
  5033: &onchain_dev_memleak
  5133: &onchain_dev_memleak_reply
    - { name: leak, type: *bool }
  5035: &onchain_annotate_txout
    - { name: txid, type: *bitcoin_txid }
    - { name: outnum, type: *u32 }
    - { name: type, type: *u8, enum: wallet_tx_type }
  5036: &onchain_annotate_txin
    - { name: txid, type: *bitcoin_txid }
    - { name: innum, type: *u32 }
    - { name: type, type: *u8, enum: wallet_tx_type }
  5037: &onchain_notify_coin_mvt
    - { name: mvt, type: *chain_coin_mvt }
...
